# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## 项目概述

这是一个AML（反洗钱）EDD（增强尽职调查）项目，主要用于金融合规领域的反洗钱检测和尽职调查工作。项目目前处于v0.6开发阶段，主要服务于农业银行等金融机构的反洗钱合规需求。

## 项目结构

```
AML-EDD1/
├── v0.6/                          # v0.6版本开发目录（当前）
│   ├── CLAUDE.md                  # v0.6版本开发指导文档
│   ├── AML_BRD.pdf                # 业务需求文档
│   ├── src/                       # 源代码目录（待创建）
│   ├── tests/                     # 测试代码目录（待创建）
│   ├── docs/                      # 文档目录（待创建）
│   └── requirements.txt           # 项目依赖（待创建）
├── push_script.py                 # Git推送脚本
├── gitee_setup_commands.txt       # Gitee仓库设置命令
├── .gitignore                     # Git忽略文件配置
├── __pycache__/                   # Python缓存目录
└── .claude/                       # 全局Claude配置
```

## 开发环境配置

### Python环境
- **Python版本**: 3.13
- **字符集**: UTF-8，支持简体中文
- **依赖管理**: 需要配置uv方式进行包管理
- **编码规范**: 遵循Python PEP 8代码规范

### Git配置
- **双远程仓库策略**:
  - GitHub: `origin` - https://github.com/lim225011-sinodt/AML-EDD1.git
  - Gitee: `gitee` - https://gitee.com/18911236161/AML-EDD1.git

## 常用命令

### 代码推送
```bash
# 使用自动化推送脚本（推荐）
python push_script.py

# 手动推送到GitHub
git push origin main

# 手动推送到Gitee
git push gitee main

# 检查推送状态
git remote -v
```

### 项目初始化（待实现）
```bash
# 创建Python虚拟环境
python -m venv venv

# 激活虚拟环境 (Windows)
venv\Scripts\activate

# 激活虚拟环境 (Linux/Mac)
source venv/bin/activate

# 使用uv创建项目
uv init

# 安装依赖包
uv add [package_name]

# 安装所有依赖
uv sync
```

### 开发环境设置
```bash
# 进入开发目录
cd v0.6

# 检查Python版本
python --version

# 检查编码设置
chcp
```

### 常规Git操作
```bash
# 检查仓库状态
git status

# 查看所有远程仓库
git remote -v

# 查看提交历史
git log --oneline

# 查看最近的提交
git log --oneline -10

# 查看当前分支
git branch
```

## 项目架构

### 业务架构
- **核心功能**: 反洗钱检测、增强尽职调查、存证链管理
- **目标机构**: 主要面向农业银行等金融机构
- **法规依据**: 基于2025年反洗钱10号令和300号文件接口格式
- **业务流程**: 文本资料调阅、清单管理、存证管理

### 技术架构
- **编程语言**: Python 3.13
- **接口标准**: 遵循农业银行300号文件接口格式
- **数据处理**: 支持中文文本处理和多格式文档管理
- **版本控制**: Git双远程仓库策略
- **当前状态**: 项目初始化阶段，基础架构已搭建，核心功能待开发
- **开发目录**: v0.6为当前活跃开发目录

## 开发规范

### 代码规范
- 所有Python文件使用UTF-8编码
- 文件头部包含中文注释说明文件用途
- 函数和类使用中文注释说明功能
- 遵循Python PEP 8代码规范
- 支持简体中文显示和处理

### 测试流程
- 完成功能开发后需要组织项目人员进行测试
- 确认测试结果后再进行代码提交
- 测试需要覆盖核心业务逻辑
- 使用脱敏后的模拟数据进行测试

### 文档规范
- 业务需求文档使用Word格式（遵循农行规范）
- 接口文档遵循300号文件PDF格式规范
- 代码注释使用简体中文
- API文档需要支持中文说明

## 业务背景

### 主要功能模块
1. **反洗钱检测**: 基于法规要求进行交易监控和风险评估
2. **增强尽职调查**: 客户身份识别、风险评估和持续监控
3. **存证链管理**: 证据收集、存储和追溯
4. **文本资料调阅**: 支持各类文档的调阅和清单管理
5. **系统集成**: 与农业银行等金融机构系统对接

### 技术要求
- 严格遵循农业银行300号文件接口格式
- 支持中文文本资料处理和分析
- 确保数据安全和合规性
- 支持多格式文档（Word、PDF、Excel等）

## 开发流程

### 新功能开发
1. 分析业务需求文档（v0.6目录中的相关文档）
2. 设计技术方案，确保符合300号文件接口格式
3. 在v0.6目录中编写代码，遵循中文编码和注释规范
4. 进行单元测试和集成测试
5. 组织项目人员进行功能测试
6. 确认测试结果后提交代码

### 代码提交
- 使用 `push_script.py` 进行自动化推送
- 脚本会自动处理GitHub和Gitee双仓库推送
- 如遇推送失败，按脚本提示进行故障排除

## 注意事项

### 安全要求
- 涉及金融敏感数据，确保代码安全性
- 遵循反洗钱相关法规要求
- 不得在代码中包含真实客户数据
- 所有测试数据应使用脱敏后的模拟数据

### 合规要求
- 严格遵循农业银行接口规范
- 确保数据处理的合规性
- 支持审计追溯要求
- 维护完整的操作日志

### 开发注意事项
- 与农行系统对接时严格遵循接口规范
- 所有中文内容确保UTF-8编码正确
- 定期备份重要的业务文档和代码
- 保持代码仓库的整洁和规范

## 待完善事项

### 技术配置
- [ ] 配置uv依赖管理（添加pyproject.toml）
- [ ] 创建标准Python项目结构（src、tests、docs等）
- [ ] 配置测试框架（pytest）
- [ ] 添加代码质量检查工具（black、flake8等）

### 功能实现
- [ ] 实现300号文件接口解析
- [ ] 开发反洗钱检测算法
- [ ] 构建存证链管理系统
- [ ] 实现中文文本处理功能

### 文档完善
- [ ] 添加README.md项目说明
- [ ] 创建API文档
- [ ] 编写用户使用手册
- [ ] 完善开发者指南