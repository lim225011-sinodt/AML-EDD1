# AML300数据库建表和模拟数据生成脚本

## 项目概述

本目录包含基于300号文件接口规范的AML-EDD数据库完整建表和模拟数据生成SQL脚本。

## 数据规模配置

### 客户数据规模
- **个人客户**: 1,000个
- **企业客户**: 100个
- **高风险个人客户**: 100个
- **高风险企业客户**: 10个
- **高风险客户总数**: 110个 (占总体约10%)

### 交易数据规模
- **总交易笔数**: 10,000笔
- **交易时间范围**: 2020年1月1日 - 2020年6月30日 (6个月)
- **账户数量**: 约1,200个 (平均每人/企业1.2个账户)

### 其他数据规模
- **银行网点**: 20个
- **大额交易报告**: 约300份
- **可疑交易报告**: 约150份
- **跨境交易**: 约500笔
- **联网核查记录**: 约1,100条

## 脚本文件说明

### 1. `01_create_database_tables.sql`
- 数据库表结构创建脚本
- 基于农业银行300号文件接口规范
- 包含15张完整的数据表
- 支持UTF-8MB4字符集

### 2. `02_generate_mock_data.sql`
- 模拟数据生成脚本
- 包含所有表的基础数据插入
- 遵循300号文校验规则
- 数据分布合理，符合业务逻辑

### 3. `03_data_validation.sql`
- 数据质量验证脚本
- 检查数据完整性和一致性
- 验证300号文合规性
- 生成数据质量报告

## 300号文校验规则遵循

### 证件号码规则
- 身份证：15位或18位，前2位为行政区划代码
- 统一社会信用代码：18位，前17位数字+校验码
- 所有证件号码≥6位

### 账号规则
- 只能包含数字、字母、"-"
- 不能全部为相同数字
- 不能只填写一位数字

### 名称规则
- 不能仅由数字组成
- 个人客户名称≥2个字符
- 企业客户名称≥4个字符

### 日期时间规则
- 交易时间：0≤时<24，0≤分<60，0≤秒<60
- 大额交易日期与交易时间中的年月日部分相同
- 销户时间≥开户时间

### 特殊字符规则
- 不得出现"？","！","$","%","^","*"字符

### 大额交易特征值
- 0501：现金交易≥5万元或外币≥1万美元
- 0502：非自然人账户间转账≥200万元或外币≥20万美元
- 0503：自然人账户间境内转账≥50万元或外币≥10万美元
- 0504：自然人账户间跨境转账≥20万元或外币≥1万美元

## 数据分布设计

### 风险等级分布
- 01-高风险：10% (110个)
- 02-中高风险：20% (220个)
- 03-中风险：50% (550个)
- 04-低风险：20% (220个)

### 时间分布
- 账户开户：2010-2025年均匀分布
- 交易记录：2020年1-6月，每月约1,667笔
- 风险评估：2020年1-6月均匀分布
- 联网核查：2020年1-6月随机分布

### 金额分布
- 个人账户：1,000-1,000,000元
- 企业账户：10,000-10,000,000元
- 交易金额：100-1,000,000元，符合对数正态分布

## 执行顺序

1. **执行建表脚本**：`01_create_database_tables.sql`
2. **生成模拟数据**：`02_generate_mock_data.sql`
3. **数据质量验证**：`03_data_validation.sql`

## 使用方法

```bash
# 连接MySQL数据库
mysql -h 101.42.102.9 -P 3306 -u root -p

# 创建数据库
CREATE DATABASE AML300 CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE AML300;

# 按顺序执行脚本
SOURCE 01_create_database_tables.sql;
SOURCE 02_generate_mock_data.sql;
SOURCE 03_data_validation.sql;
```

## 注意事项

1. 数据库版本：MySQL 8.0+
2. 字符集：UTF-8MB4（支持完整Unicode字符）
3. 执行前请确保有足够的磁盘空间
4. 建议在测试环境执行，生产环境使用需谨慎

## 质量保证

- 所有数据均通过300号文校验规则验证
- 数据分布符合金融行业业务特点
- 支持完整的反洗钱分析需求
- 可用于系统测试和演示

---

**版本**: v1.0
**创建时间**: 2025年11月11日
**基于**: 300号文件接口规范